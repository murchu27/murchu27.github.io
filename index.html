<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Stuff that is vaguely interesting and hopefully useful</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Stuff that is vaguely interesting and hopefully useful">
<meta property="og:url" content="https://murchu27.github.io/index.html">
<meta property="og:site_name" content="Stuff that is vaguely interesting and hopefully useful">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="murchu27">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Stuff that is vaguely interesting and hopefully useful" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Stuff that is vaguely interesting and hopefully useful</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://murchu27.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Hexo-deployment-shortcuts" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/15/Hexo-deployment-shortcuts/" class="article-date">
  <time class="dt-published" datetime="2021-12-15T19:19:51.000Z" itemprop="datePublished">2021-12-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/15/Hexo-deployment-shortcuts/">Shortcuts for your Hexo deployment</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Good morning!</p>
<p>In <a href="/2021/12/13/Deploying-your-Hexo-blog-on-GitHub-Pages/">my last post</a>, I showed you how to deploy your Hexo blog on GitHub pages. If you’re already <code>git</code>-savvy, then deploying your blog this way is a treat. But we can make the process even simpler, with a few shortcuts.</p>
<h2 id="Scaffolds"><a href="#Scaffolds" class="headerlink" title="Scaffolds"></a>Scaffolds</h2><p>When you run <code>hexo new &lt;title&gt;</code>, Hexo creates a new blog post based on a <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing#Scaffolds">“scaffold” file</a>, stored in the <code>scaffolds</code> directory of your Hexo project. If you haven’t changed any of the defaults in your Hexo configuration file (<code>_config.yml</code>), it specifically uses <code>scaffolds/post.md</code>.</p>
<p>By default, this file is pretty small, as we can see by using <code>cat</code> to print its contents:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cat scaffolds/post.md</span><br><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>But even this helps us out by automatically filling in the title of the post, and the date that it was created! Check out the contents of the new post:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My post&quot;</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Created: ~/repos/hexo/murchu27.github.io/source/_posts/My-post.md</span><br><span class="line">$ cat source/_posts/My-post.md</span><br><span class="line">---</span><br><span class="line marked">title: My post</span><br><span class="line marked">date: 2021-12-15 19:37:41</span><br><span class="line">tags:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>Of course, you can edit this scaffold file however you like!</p>
<p>For instance, in both this post and the last, I wished you all a “Good morning”! Now I quite like the mindful act of typing this out manually, but if liked, I could make a change to my scaffold file, so that every new post started with “Good morning”!</p>
<p>Take a look at how a change like that affects new posts:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat scaffolds/post.md</span><br><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Good morning!</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My robotic post&quot;</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Created: ~/repos/hexo/murchu27.github.io/source/_posts/My-robotic-post.md</span><br><span class="line">$ cat source/_posts/My-robotic-post.md</span><br><span class="line">---</span><br><span class="line">title: My robotic post</span><br><span class="line">date: 2021-12-15 20:01:51</span><br><span class="line">tags:</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line marked">Good morning!</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>If you’re regularly posting, say, a daily update on the stats of the top Formula One racers, then you could put a list of those racers in your scaffold file so that you don’t have to type them out every time!</p>
<h2 id="Simplifying-your-commits"><a href="#Simplifying-your-commits" class="headerlink" title="Simplifying your commits"></a>Simplifying your commits</h2><p>Now, when it comes to using <code>git</code> for code, I’m constantly bugging my fellow devs to write descriptive commit messages, so that the rest of us can easily follow what they’ve changed.</p>
<p>But with blog posts, that’s not so important. For the most part, you’re (probably) writing new posts much more than updating old ones, and there’s no logic that needs explaining. If you’re using GitHub, that has plenty of features to check when and how files were updated, without the need for reading your commit messages.</p>
<p>That in mind, we can make our lives a bit easier by making a one-line command for updating our site.</p>
<p>There are a couple of ways you can do this, I’ve decided to use a custom <code>npm</code> script. In your Hexo project directory, open up <code>package.json</code>, and add the highlighted line in the “scripts” section:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;hexo generate&quot;,</span><br><span class="line">    &quot;clean&quot;: &quot;hexo clean&quot;,</span><br><span class="line marked">    &quot;update&quot;: &quot;git add source/* &amp;&amp; git commit -m \&quot;Site updated: `date`\&quot; &amp;&amp; git push&quot;,</span><br><span class="line">    &quot;deploy&quot;: &quot;hexo deploy&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;hexo server&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now, we can run <code>npm run update</code>, and this will execute <code>git add source/* && git commit -m "Site updated: `date`" && git push</code> for us! This commits any changes to our blog posts, writes a default message, and pushes to GitHub.</p>
<h2 id="That’s-all-for-now"><a href="#That’s-all-for-now" class="headerlink" title="That’s all for now"></a>That’s all for now</h2><p>With scaffolds and simpler commits, you can reduce the time spent on the repetitive stuff, so you can focus on the stuff that matters - the writing!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://murchu27.github.io/2021/12/15/Hexo-deployment-shortcuts/" data-id="ckz2xhtni00019snd8fmj1rgz" data-title="Shortcuts for your Hexo deployment" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub-Pages/" rel="tag">GitHub Pages</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Deploying-your-Hexo-blog-on-GitHub-Pages" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/12/13/Deploying-your-Hexo-blog-on-GitHub-Pages/" class="article-date">
  <time class="dt-published" datetime="2021-12-13T22:19:42.000Z" itemprop="datePublished">2021-12-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/12/13/Deploying-your-Hexo-blog-on-GitHub-Pages/">Deploying your Hexo blog on GitHub Pages</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Good morning!</p>
<p>Last night, I deployed my first blog using Hexo. It involved the following steps:</p>
<ol>
<li>Install prerequisites</li>
<li>Install Hexo</li>
<li>Create a Hexo project       </li>
<li>Create a blog post</li>
<li>Deploy using GitHub Pages</li>
</ol>
<p>For steps 1-3, I’d recommend using Hexo’s own installation instructions, as those are clear and easy to follow. I’m mostly writing this post to give additional help for step 4, and alternate instructions for step 5!</p>
<h2 id="Install-prerequisites-amp-Install-Hexo"><a href="#Install-prerequisites-amp-Install-Hexo" class="headerlink" title="Install prerequisites &amp; Install Hexo"></a>Install prerequisites &amp; Install Hexo</h2><p>Use <a target="_blank" rel="noopener" href="https://hexo.io/docs/#Installation">Hexo’s documentation</a>!</p>
<h2 id="Create-a-Hexo-project"><a href="#Create-a-Hexo-project" class="headerlink" title="Create a Hexo project"></a>Create a Hexo project</h2><p>Use <a target="_blank" rel="noopener" href="https://hexo.io/docs/setup">Hexo’s documentation</a>!</p>
<h2 id="Create-a-blog-post"><a href="#Create-a-blog-post" class="headerlink" title="Create a blog post"></a>Create a blog post</h2><p><a target="_blank" rel="noopener" href="https://hexo.io/docs/writing">Hexo’s documentation</a> is also good here, but fails to mention how to view your posts in a browser!</p>
<p>Firstly, create a new blog post with:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My blog post title&quot;</span><br></pre></td></tr></table></figure>

<p>This will create your post at <code>source/_posts/My-blog-post-title.md</code>, which you can open up in your favourite editor, and fill with delightful puns or other such important content.</p>
<p>(Heads up: you’ll be writing in <a target="_blank" rel="noopener" href="https://www.markdownguide.org/">Markdown</a>)</p>
<p>Then, to see your post for reals, you can launch a <a target="_blank" rel="noopener" href="https://hexo.io/docs/server">temporary server</a> by running:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>And then you can open up <code>http://localhost:4000</code> in your browser. That is, assuming you’re running Hexo on the same computer that your browser is on. If you’re running Hexo on another machine (e.g., a Raspberry Pi), then go to <code>http://&#123;ip-address-of-pi&#125;:4000</code> instead.</p>
<p>Behold the glory of your blog post!</p>
<h2 id="Deploy-using-GitHub-Pages"><a href="#Deploy-using-GitHub-Pages" class="headerlink" title="Deploy using GitHub Pages"></a>Deploy using GitHub Pages</h2><p>As I mentioned, using <code>hexo server</code> to see your blog posts is a temporary measure. <code>hexo server</code> is constantly monitoring your filesystem for changes (which you don’t want while you’re working on a post), and is generally overkill seeing as a blog is just a static website.</p>
<p>Instead, Hexo offers many options for converting your blog posts to static HTML, and automatically deploying them to whatever location you like. A popular choice is <a target="_blank" rel="noopener" href="https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages">GitHub Pages</a>; a static site hosting service that is completely free for anyone with a GitHub account!</p>
<p>As always, <a target="_blank" rel="noopener" href="https://docs.github.com/en/pages/getting-started-with-github-pages/creating-a-github-pages-site">GitHub’s documentation is excellent</a>, but I actually wouldn’t recommend using it here. They presume that you are using <a target="_blank" rel="noopener" href="https://jekyllrb.com/">Jekyll</a> for creating your blog posts, so some of the steps cause issue later.</p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/docs/github-pages.html">Hexo’s documentation</a> is the best thing to follow for this, but stop before creating the <code>.github/workflows/pages.yml</code> file, and come back here.</p>
<p>If you’re in a hurry, the change is simple.</p>
<p>First, check your version of Node.js with:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ node --version</span><br><span class="line">v16.13.1</span><br></pre></td></tr></table></figure>

<p>Make a note of the major version (v16.x in this case).</p>
<p>Then, create the <code>.github/workflows/pages.yml</code>, exactly as described in the <a target="_blank" rel="noopener" href="https://hexo.io/docs/github-pages.html">Hexo docs</a>, but find the Node.js section, which looks like:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- name: Use Node.js 12.x</span><br><span class="line">  uses: actions/setup-node@v1</span><br><span class="line">  with:</span><br><span class="line">    node-version: &#x27;12.x&#x27;</span><br></pre></td></tr></table></figure>

<p>And change it to the below (using whatever major version of Node.js you found in the last step).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- name: Use Node.js 16.x</span><br><span class="line">  uses: actions/setup-node@v1</span><br><span class="line">  with:</span><br><span class="line">    node-version: &#x27;16.x&#x27;</span><br></pre></td></tr></table></figure>

<p>You can continue with the Hexo docs from here!</p>
<p>If you’ve finished those - congratulations on your first public blog post!</p>
<h3 id="For-the-curious"><a href="#For-the-curious" class="headerlink" title="For the curious"></a>For the curious</h3><p>When I made this post, the Hexo docs were still recommending using Node.js 12.x in this workflow. This may cause issue if you are using a newer version of Node.js on the machine where you write your Hexo posts.</p>
<p>This is because Node.js v15.x and beyond use a newer version of the <code>package-lock.json</code> file that may get generated if you have installed extra modules with <code>npm</code>. Check out npm’s documentation on the <a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/configuring-npm/package-lock-json"><code>package-lock.json</code></a> file, specifically the section on the <a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/configuring-npm/package-lock-json#lockfileversion"><code>lockfileVersion</code></a></p>
<p>If you push a <code>package-lock.json</code> with <code>lockfileVersion: 2</code> to your GitHub repository, and your GitHub workflow tries to read this with an older version of Node.js like v12.x, your workflow might fail…</p>
<p>Making the change above should solve any <code>package-lock.json</code> related issues you may have! Don’t just take my word for it though - check out a <a target="_blank" rel="noopener" href="https://github.com/murchu27/murchu27.github.io/runs/4499900719?check_suite_focus=true">failed run of the workflow</a> for this website. As soon as I updated the Node.js version in <code>.github/workflows/pages.yml</code>, <a target="_blank" rel="noopener" href="https://github.com/murchu27/murchu27.github.io/runs/4499912021?check_suite_focus=true">the workflow ran successfully</a>.</p>
<p>Thanks for following along, happy blogging!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://murchu27.github.io/2021/12/13/Deploying-your-Hexo-blog-on-GitHub-Pages/" data-id="ckz2xhtnd00009snd1mbldc0u" data-title="Deploying your Hexo blog on GitHub Pages" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub-Pages/" rel="tag">GitHub Pages</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub-Pages/" rel="tag">GitHub Pages</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Blogging/" style="font-size: 10px;">Blogging</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/GitHub-Pages/" style="font-size: 10px;">GitHub Pages</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/12/15/Hexo-deployment-shortcuts/">Shortcuts for your Hexo deployment</a>
          </li>
        
          <li>
            <a href="/2021/12/13/Deploying-your-Hexo-blog-on-GitHub-Pages/">Deploying your Hexo blog on GitHub Pages</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 murchu27<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>